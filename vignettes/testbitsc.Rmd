---
title: "test_bitsc"
output: html_vignette
vignette: >
  %\VignetteIndexEntry{BiTSCR testbitsc}
  %\VignetteEngine{knitr::rmarkdown}
  \usepackage[utf8]{inputenc}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
devtools::install_github("Orion-qx/BiTSCR")
```

```{r read_sample_data}
urlfile1 = "https://raw.githubusercontent.com/edensunyidan/BiTSC/master/data/node_covariate_one.csv"
urlfile2 = "https://raw.githubusercontent.com/edensunyidan/BiTSC/master/data/node_covariate_two.csv"
urlfile3 = "https://raw.githubusercontent.com/edensunyidan/BiTSC/master/data/edge_one_two.csv"

```

```{r preliminary_output}
rho = 0.5
ninter = 10
start_time <- Sys.time()
# avg.M1 <- bitsc(rho, ninter, urlfile1, urlfile2, urlfile3)
# print(paste0("Runtime: ", Sys.time() - start_time))
# Hclust1 = hclust(as.dist(1 - avg.M1), method = "complete")
# clusters <- cutree(Hclust1, h = 0.6)
# clusters2 <- cutree(Hclust1, h = 0.2)
# print(length(unique(clusters)))
# print(length(unique(clusters2)))
# clusters <- cut(as.dendrogram(Hclust1), h = 0.8)
# plot(clusters$lower[[2]])
```

```{r}
# the second case
rho = 0.7
ninter = 25
# rho = 0.8
# ninter = 50
# start_time <- Sys.time()
# avg.M2 <- bitsc(rho, ninter, urlfile1, urlfile2, urlfile3)
# print(paste0("Runtime: ", Sys.time() - start_time))
# Hclust2 = hclust(as.dist(1 - avg.M2), method = "complete")
# clusters <- cutree(Hclust2, h = 0.6)
# clusters2 <- cutree(Hclust2, h = 0.2)
# print(length(unique(clusters)))
# print(length(unique(clusters2)))
```
